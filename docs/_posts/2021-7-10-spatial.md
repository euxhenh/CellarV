---
title: 'SPATIAL DATA'

category: User Interface
layout: null
type: ui
---
In this tab the user can generate a tile with the spatial information about the cells for CODEX data or 10X Genomics' spatial transcriptomics data. To perform spatial visualization, the user needs to select the spatial data type, upload additional data files with the spatial information, and click <span class='mbutton'>GENERATE TILE</span>. However, since spatial information is already stored for server datasets, you only need to select data type and click <span class='mbutton'>GENERATE TILE</span>.

<br>
![CODEX Results](images/codex-spatial-image.png)
<br>

* **CODEX**
    * <span class="pn">PN<span class="tooltip">Note to Programmers</span></span>
    The addition spatial information data files for CODEX is
    generated by [Cytokit](https://github.com/hammerlab/cytokit) as
    listed below. Again this is not required for server datasets since we already stored them on the server.
    <br>
    a) You will need segmented images. These are .tif files named
    "R001_X00\*_Y00\*.tif" where the asterix
    character specifies which tile it is (starting from 1). These images
    should have shape (no. z-planes, 4, height, width)
    where the axis show:
    1) the cell segmentations filled,
    2) nucleus
    segmentation filled,
    1) cell segmentation outlines,
    2) nucleus segmentation outlines
    Each pixel in these segmented images
    will either have value 0, denoting no cell,
    or the value of the cell ID, denoting that the pixel belongs to that cell.
    <br>
    b) A `data.csv` file containing information output from Cytokit. Each row
    represents a cell, and the column `rid` gives the cell ID as defined
    in the <span class="extension">h5ad</span> file.
    The column `id` gives the cell ID for that specific tile. The column `z`
    gives which z-plane in which that particular tile has the best focus.
    <br>
    A folder named `images` containing the tiff files and the `data.csv` file
    need to be compressed into a <span class="extension">tar.gz</span>
    file and uploaded to Cellar in the CODEX panel.
    <br>
    Since this can be confusing, we also provide example files
    [here](https://github.com/ferrocactus/cellar/tree/master/datasets/codex/).

* **10X Genomics**
    * For 10X spatial data, simply upload the spatial related files generated by [spaceranger](https://support.10xgenomics.com/spatial-gene-expression/software/pipelines/latest/output/images).
